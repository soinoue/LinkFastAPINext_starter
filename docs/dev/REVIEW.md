# コードレビューガイドライン

コードレビューでは不具合を検出できるよう注意深く実装の変更を調べます。
**レビューポイント** に従って、チェックしコメントで指摘してください。

## 技術スタック

- Frontend: Flutter/Dart (Provider/Riverpod, Material Design 3)
- Backend: Python FastAPI, PostgreSQL
- Infrastructure: Azure Virtual Machines (Application Gateway, Key Vault, etc.)

## ヘルスケア特化チェック

- 法規制遵守（医療法・薬機法・個人情報保護法）
- 患者データの適切な保護
- 科学的根拠に基づく実装

## レビューポイント

### ✅ 1. スタイル・可読性

- [ ] 命名が意味を持ち、一貫性がある（変数・関数・クラス名など）
- [ ] 不要な処理・重複コードがない
- [ ] コードが簡潔で読みやすい
- [ ] 適切なインデント・改行・空白が使われている
- [ ] コメントは必要な箇所にあり、意図や背景が明確に書かれている
- [ ] マジックナンバーの使用を避け、定数化されている

---

### ✅ 2. 設計・構造

- [ ] 単一責任の原則（SRP）に従っている
- [ ] 関数やメソッドが適切な長さに保たれている
- [ ] 各モジュールやクラスの役割が明確
- [ ] 再利用性・拡張性を考慮した設計
- [ ] UI・ロジック・データ層などが分離されている

---

### ✅ 3. 動作の正確性

- [ ] 要件・仕様に従った動作になっている
- [ ] バグや例外が発生しうる箇所への配慮がある
- [ ] 適切なエラーハンドリング・バリデーションが実装されている
- [ ] 非同期処理・並行処理における安全性が担保されている（例：race condition 対策）

---

### ✅ 4. パフォーマンス

- [ ] 明らかに非効率な処理（重いループや計算）がない
- [ ] 無駄なデータベースアクセスや API リクエストがない
- [ ] UI の再描画や再計算の最適化がされている（特にフロントエンド）

---

### ✅ 5. セキュリティ

- [ ] ユーザー入力のサニタイズ・エスケープができている
- [ ] 認証・認可の処理が適切に実装されている
- [ ] 機密情報が安全に扱われている（環境変数、トークン等）

---

### ✅ 6. テスト

- [ ] 単体テスト・結合テストが書かれている
- [ ] 境界値やエラーパターンもテストされている
- [ ] テストの記述が明確かつ読みやすい
- [ ] モック・スタブが適切に使用されている

---

### ✅ 7. 依存関係・ビルド

- [ ] 不要な依存関係やライブラリが含まれていない
- [ ] バージョン固定・アップデートの管理がされている
- [ ] ビルド・デプロイへの影響が把握されている

---

### ✅ 8. ドキュメント・補足情報

- [ ] README やコメントに補足情報がある（使い方・動作原理など）
- [ ] 環境構築手順や API 仕様などが更新されている

---
